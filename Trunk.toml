# Trunk.toml - Configuration for Trunk WASM bundler
# https://trunkrs.dev/configuration/

[build]
# The index HTML file to drive the bundling process
target = "index.html"

# Build in release mode by default
release = false

# The output directory for build artifacts
dist = "docs"

# For GitHub Pages with docs folder, use root-relative paths
public_url = "/"

[watch]
# Watch patterns for automatic rebuild
watch = ["src", "static", "index.html"]

# Ignored paths
ignore = ["target", "docs"]

[serve]
# Development server configuration
address = "127.0.0.1"
port = 8080

# Open browser automatically
open = true

# Enable WebSocket for live reload
ws_protocol = "ws"

[clean]
# Directories to clean
dist = "docs"
cargo = true

[[hooks]]
# Run clippy before build (warnings only, not errors)
stage = "pre_build"
command = "cargo"
command_arguments = ["clippy"]
